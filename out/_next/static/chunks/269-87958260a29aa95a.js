(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{1269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(7876),r=s(4232),n=s(9999),c=s(9789),i=s.n(c);let l=()=>{let[e,t]=(0,r.useState)(1),[s,c]=(0,r.useState)({email:"",password:"",confirmPassword:"",displayName:"",userType:"",tutorSubjects:[],bio:"",contactNumber:"",hourlyRate:0,studentSubjects:[],grade:12,parentName:"",parentEmail:"",parentContactNumber:"",tokens:0}),{register:l,error:u,clearError:o,isLoading:d}=(0,n.ur)(),[m,p]=(0,r.useState)(null),[h,b]=(0,r.useState)(!1),g=["Mathematics","English","Science","History","Geography","Physics","Chemistry","Biology","Computer Science","Art"],j=(e,t)=>{c(s=>({...s,[e]:t})),u&&o(),m&&p(null)},_=e=>{c(t=>t.tutorSubjects.includes(e)?{...t,tutorSubjects:t.tutorSubjects.filter(t=>t!==e)}:{...t,tutorSubjects:[...t.tutorSubjects,e]})},N=e=>{c(t=>{if(!(t.studentSubjects.findIndex(t=>t.subjectName===e)>=0))return{...t,studentSubjects:[...t.studentSubjects,{subjectName:e,currentMark:0,targetMark:75,tutorId:""}]};{let s=t.studentSubjects.filter(t=>t.subjectName!==e);return{...t,studentSubjects:s}}})},x=(e,t,s)=>{c(a=>({...a,studentSubjects:a.studentSubjects.map(a=>a.subjectName===e?{...a,[t]:s}:a)}))},y=(e=>e.length<6?"weak":e.length<10||!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)?"medium":"strong")(s.password),v=e=>{switch(p(null),e){case 1:if(!s.displayName.trim())return p("Please enter your full name."),!1;if(!s.email.trim())return p("Please enter your email address."),!1;if(!s.userType)return p("Please select an account type."),!1;return!0;case 2:if(!s.password)return p("Please enter a password."),!1;if(s.password!==s.confirmPassword)return p("Passwords do not match."),!1;if(s.password.length<6)return p("Password must be at least 6 characters long."),!1;return!0;case 3:if("tutor"===s.userType){if(0===s.tutorSubjects.length)return p("Please select at least one subject you can teach."),!1}else if("student"===s.userType){if(0===s.studentSubjects.length)return p("Please select at least one subject you need help with."),!1;if(!s.parentName.trim())return p("Please enter parent/guardian name."),!1;if(!s.parentEmail.trim())return p("Please enter parent/guardian email."),!1}return!0;default:return!0}},S=()=>{v(e)&&t(e=>Math.min(e+1,3))},R=()=>{t(e=>Math.max(e-1,1)),p(null)},f=async e=>{if(e.preventDefault(),p(null),b(!1),!v(3))return;let t={displayName:s.displayName};"tutor"===s.userType?(t.subjects=s.tutorSubjects,t.bio=s.bio,t.contactNumber=s.contactNumber,t.hourlyRate=s.hourlyRate):"student"===s.userType&&(t.subjects=s.studentSubjects,t.grade=s.grade,t.parentName=s.parentName,t.parentEmail=s.parentEmail,t.parentContactNumber=s.parentContactNumber,t.tokens=s.tokens,t.tutorIds=[],t.parentId=""),console.log("Submitting registration for",s.email,"type",s.userType);try{await l(s.email,s.password,s.userType,t),b(!0),console.log("Registration successful â€” redirecting to login page."),setTimeout(()=>{window.location.href="/login"},2e3)}catch(e){console.error("Registration failed:",e),p("Registration failed. Please try again.")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:(0,a.jsxs)("div",{className:i().register,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:i().heading,children:"Create Account"}),(0,a.jsxs)("div",{className:i().progressBar,children:[(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=1?i().active:""),children:"1"}),(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=2?i().active:""),children:"2"}),(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=3?i().active:""),children:"3"})]})]}),(m||u)&&(0,a.jsx)("div",{className:i().error,children:null!=m?m:u}),h&&(0,a.jsx)("div",{className:i().success,children:"Account created successfully! Redirecting to login page..."}),(0,a.jsxs)("form",{onSubmit:f,className:i().stepContent,children:[1===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"Basic Information"}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"text",value:s.displayName,onChange:e=>j("displayName",e.target.value),className:i().input,placeholder:"Full Name",required:!0,disabled:d})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"email",value:s.email,onChange:e=>j("email",e.target.value),className:i().input,placeholder:"Email Address",required:!0,disabled:d})}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Account Type"}),(0,a.jsxs)("div",{className:i().userTypeOptions,children:[(0,a.jsxs)("label",{className:"".concat(i().userTypeOption," ").concat("student"===s.userType?i().selected:""),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"student",checked:"student"===s.userType,onChange:e=>j("userType",e.target.value),disabled:d,className:i().userTypeRadio}),(0,a.jsxs)("div",{className:i().userTypeContent,children:[(0,a.jsx)("h4",{children:"Student"}),(0,a.jsx)("p",{children:"I need help with my studies"})]})]}),(0,a.jsxs)("label",{className:"".concat(i().userTypeOption," ").concat("tutor"===s.userType?i().selected:""),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"tutor",checked:"tutor"===s.userType,onChange:e=>j("userType",e.target.value),disabled:d,className:i().userTypeRadio}),(0,a.jsxs)("div",{className:i().userTypeContent,children:[(0,a.jsx)("h4",{children:"Tutor"}),(0,a.jsx)("p",{children:"I want to teach students"})]})]})]})]}),(0,a.jsx)("div",{className:i().buttonGroup,children:(0,a.jsx)("button",{type:"button",onClick:S,disabled:d,className:"".concat(i().button," ").concat(i().buttonPrimary),children:"Next"})})]}),2===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"Security"}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("input",{type:"password",value:s.password,onChange:e=>j("password",e.target.value),className:i().input,placeholder:"Password",required:!0,disabled:d}),s.password&&(0,a.jsxs)("div",{className:i().passwordStrength,children:[(0,a.jsx)("div",{className:i().strengthBar,children:(0,a.jsx)("div",{className:"".concat(i().strengthFill," ").concat(i()["strength".concat(y.charAt(0).toUpperCase()+y.slice(1))])})}),(0,a.jsxs)("p",{className:i().strengthText,children:["Password strength: ",y]})]})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"password",value:s.confirmPassword,onChange:e=>j("confirmPassword",e.target.value),className:i().input,placeholder:"Confirm Password",required:!0,disabled:d})}),(0,a.jsxs)("div",{className:i().buttonGroup,children:[(0,a.jsx)("button",{type:"button",onClick:R,disabled:d,className:"".concat(i().button," ").concat(i().buttonSecondary),children:"Previous"}),(0,a.jsx)("button",{type:"button",onClick:S,disabled:d,className:"".concat(i().button," ").concat(i().buttonPrimary),children:"Next"})]})]}),3===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"tutor"===s.userType?"Teaching Profile":"Student Profile"}),"tutor"===s.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subjects you can teach:"}),(0,a.jsx)("div",{className:i().subjectsGrid,children:g.map(e=>(0,a.jsxs)("label",{className:"".concat(i().subjectOption," ").concat(s.tutorSubjects.includes(e)?i().selected:""),children:[(0,a.jsx)("input",{type:"checkbox",checked:s.tutorSubjects.includes(e),onChange:()=>_(e),disabled:d,className:i().subjectCheckbox}),(0,a.jsx)("span",{className:i().subjectLabel,children:e})]},e))})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("textarea",{value:s.bio,onChange:e=>j("bio",e.target.value),className:"".concat(i().input," ").concat(i().textarea),placeholder:"Tell students about yourself...",rows:3,disabled:d})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"tel",value:s.contactNumber,onChange:e=>j("contactNumber",e.target.value),className:i().input,placeholder:"Contact Number",disabled:d})}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Hourly Rate (R)"}),(0,a.jsx)("input",{type:"number",value:s.hourlyRate||"",onChange:e=>j("hourlyRate",Number(e.target.value)),className:i().input,placeholder:"0",min:"0",disabled:d})]})]}),"student"===s.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Grade Level"}),(0,a.jsx)("select",{value:s.grade,onChange:e=>j("grade",Number(e.target.value)),className:i().input,disabled:d,children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,a.jsxs)("option",{value:e,children:["Grade ",e]},e))})]}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subjects you need help with:"}),(0,a.jsx)("div",{className:i().subjectsGrid,children:g.map(e=>(0,a.jsxs)("label",{className:"".concat(i().subjectOption," ").concat(s.studentSubjects.some(t=>t.subjectName===e)?i().selected:""),children:[(0,a.jsx)("input",{type:"checkbox",checked:s.studentSubjects.some(t=>t.subjectName===e),onChange:()=>N(e),disabled:d,className:i().subjectCheckbox}),(0,a.jsx)("span",{className:i().subjectLabel,children:e})]},e))})]}),s.studentSubjects.length>0&&(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subject Details (Optional)"}),(0,a.jsx)("div",{className:i().subjectMarks,children:s.studentSubjects.map(e=>(0,a.jsxs)("div",{className:i().subjectMarkRow,children:[(0,a.jsx)("span",{className:i().subjectMarkName,children:e.subjectName}),(0,a.jsxs)("div",{className:i().markInputs,children:[(0,a.jsx)("input",{type:"number",value:e.currentMark,onChange:t=>x(e.subjectName,"currentMark",Number(t.target.value)),className:i().markInput,placeholder:"Current %",min:"0",max:"100",disabled:d}),(0,a.jsx)("input",{type:"number",value:e.targetMark,onChange:t=>x(e.subjectName,"targetMark",Number(t.target.value)),className:i().markInput,placeholder:"Target %",min:"0",max:"100",disabled:d})]})]},e.subjectName))})]}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Parent/Guardian Information"}),(0,a.jsx)("input",{type:"text",value:s.parentName,onChange:e=>j("parentName",e.target.value),className:i().input,placeholder:"Parent/Guardian Name",required:!0,disabled:d})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"email",value:s.parentEmail,onChange:e=>j("parentEmail",e.target.value),className:i().input,placeholder:"Parent/Guardian Email",required:!0,disabled:d})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"tel",value:s.parentContactNumber,onChange:e=>j("parentContactNumber",e.target.value),className:i().input,placeholder:"Parent/Guardian Contact Number",disabled:d})})]}),(0,a.jsxs)("div",{className:i().buttonGroup,children:[(0,a.jsx)("button",{type:"button",onClick:R,disabled:d,className:"".concat(i().button," ").concat(i().buttonSecondary),children:"Previous"}),(0,a.jsx)("button",{type:"submit",disabled:d||"tutor"===s.userType&&0===s.tutorSubjects.length||"student"===s.userType&&0===s.studentSubjects.length,className:"".concat(i().button," ").concat(i().buttonPrimary),children:d?"Creating Account...":"Create Account"})]})]})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign in here"})]})})]})})}},9789:e=>{e.exports={register:"Register_register__mZhnY",heading:"Register_heading__g3tJL",subheading:"Register_subheading__2IfGO",progressBar:"Register_progressBar__4y6a0",progressStep:"Register_progressStep__vU1wR",active:"Register_active__onc5D",completed:"Register_completed__ski4k",stepContent:"Register_stepContent__X6aK5",stepTitle:"Register_stepTitle__jKIcc",userTypeOption:"Register_userTypeOption__urYzl",selected:"Register_selected__sXBN_",userTypeRadio:"Register_userTypeRadio__UX2iq",userTypeContent:"Register_userTypeContent__HNCUO",input:"Register_input__F4e_w",textarea:"Register_textarea__6fZOQ",subjectsGrid:"Register_subjectsGrid__FPbQr",subjectOption:"Register_subjectOption__T9eR5",subjectCheckbox:"Register_subjectCheckbox__KkuGH",subjectLabel:"Register_subjectLabel__k1T_I",button:"Register_button__i9dK0",buttonPrimary:"Register_buttonPrimary__93Ruk",buttonSecondary:"Register_buttonSecondary__pIleL",buttonGroup:"Register_buttonGroup__j4DPv",error:"Register_error___yJZN",validationError:"Register_validationError__JVJJg",success:"Register_success__LZSp2",loading:"Register_loading__w75VD",spinner:"Register_spinner__NobDz",spin:"Register_spin__E3tZB",formSection:"Register_formSection___O0iS",sectionLabel:"Register_sectionLabel__NCZj_",sectionDescription:"Register_sectionDescription__xlUah",required:"Register_required__N35w3",passwordStrength:"Register_passwordStrength__jS_Rt",strengthBar:"Register_strengthBar__PQZkl",strengthFill:"Register_strengthFill__RYsTC",strengthWeak:"Register_strengthWeak__r4qLy",strengthMedium:"Register_strengthMedium__u4j8K",strengthStrong:"Register_strengthStrong__fErYN",userTypeOptions:"Register_userTypeOptions__8zN86",subjectMarks:"Register_subjectMarks__7Lgu6",subjectMarkRow:"Register_subjectMarkRow__vqeCP",subjectMarkName:"Register_subjectMarkName__n8t1w",markInputs:"Register_markInputs__2cBEb",markInput:"Register_markInput__8nqye",strengthText:"Register_strengthText__Gyg3o"}}}]);