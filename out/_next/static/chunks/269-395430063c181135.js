(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{1269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(7876),r=s(4232),n=s(9999),c=s(9789),i=s.n(c);let l=()=>{let[e,t]=(0,r.useState)(1),[s,c]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[u,d]=(0,r.useState)({email:"",password:"",confirmPassword:"",displayName:"",userType:"",tutorAccessCode:"",tutorSubjects:[],bio:"",contactNumber:"",hourlyRate:0,studentSubjects:[],grade:12,parentName:"",parentEmail:"",parentContactNumber:"",tokens:0}),{register:m,error:p,clearError:h,isLoading:b}=(0,n.ur)(),[g,j]=(0,r.useState)(null),[_,x]=(0,r.useState)(!1),N=["Mathematics","English","Science","History","Geography","Physics","Chemistry","Biology","Computer Science","Art"],y=(e,t)=>{d(s=>({...s,[e]:t})),p&&h(),g&&j(null)},v=e=>{"tutor"===e?(c(!0),o(null)):(y("userType",e),y("tutorAccessCode",""))},S=()=>{"TEACH2025"===u.tutorAccessCode.trim().toUpperCase()?(y("userType","tutor"),c(!1),o(null)):o("Invalid access code. Please contact the administrator if you need tutor access.")},f=e=>{d(t=>t.tutorSubjects.includes(e)?{...t,tutorSubjects:t.tutorSubjects.filter(t=>t!==e)}:{...t,tutorSubjects:[...t.tutorSubjects,e]})},R=e=>{d(t=>{if(!(t.studentSubjects.findIndex(t=>t.subjectName===e)>=0))return{...t,studentSubjects:[...t.studentSubjects,{subjectName:e,currentMark:0,targetMark:75,tutorId:""}]};{let s=t.studentSubjects.filter(t=>t.subjectName!==e);return{...t,studentSubjects:s}}})},C=(e,t,s)=>{d(a=>({...a,studentSubjects:a.studentSubjects.map(a=>a.subjectName===e?{...a,[t]:s}:a)}))},k=(e=>e.length<6?"weak":e.length<10||!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)?"medium":"strong")(u.password),T=e=>{switch(j(null),e){case 1:if(!u.displayName.trim())return j("Please enter your full name."),!1;if(!u.email.trim())return j("Please enter your email address."),!1;if(!u.userType)return j("Please select an account type."),!1;return!0;case 2:if(!u.password)return j("Please enter a password."),!1;if(u.password!==u.confirmPassword)return j("Passwords do not match."),!1;if(u.password.length<6)return j("Password must be at least 6 characters long."),!1;return!0;case 3:if("tutor"===u.userType){if(0===u.tutorSubjects.length)return j("Please select at least one subject you can teach."),!1}else if("student"===u.userType){if(0===u.studentSubjects.length)return j("Please select at least one subject you need help with."),!1;if(!u.parentName.trim())return j("Please enter parent/guardian name."),!1;if(!u.parentEmail.trim())return j("Please enter parent/guardian email."),!1}return!0;default:return!0}},w=()=>{T(e)&&t(e=>Math.min(e+1,3))},P=()=>{t(e=>Math.max(e-1,1)),j(null)},I=async e=>{if(e.preventDefault(),j(null),x(!1),!T(3))return;let t={displayName:u.displayName};"tutor"===u.userType?(t.subjects=u.tutorSubjects,t.bio=u.bio,t.contactNumber=u.contactNumber,t.hourlyRate=u.hourlyRate):"student"===u.userType&&(t.subjects=u.studentSubjects,t.grade=u.grade,t.parentName=u.parentName,t.parentEmail=u.parentEmail,t.parentContactNumber=u.parentContactNumber,t.tokens=u.tokens,t.tutorIds=[],t.parentId=""),console.log("Submitting registration for",u.email,"type",u.userType);try{await m(u.email,u.password,u.userType,t),x(!0),console.log("Registration successful — redirecting to login page."),setTimeout(()=>{window.location.href="/login"},2e3)}catch(e){console.error("Registration failed:",e),j("Registration failed. Please try again.")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:(0,a.jsxs)("div",{className:i().register,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:i().heading,children:"Create Account"}),(0,a.jsxs)("div",{className:i().progressBar,children:[(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=1?i().active:""),children:"1"}),(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=2?i().active:""),children:"2"}),(0,a.jsx)("div",{className:"".concat(i().progressStep," ").concat(e>=3?i().active:""),children:"3"})]})]}),(g||p)&&(0,a.jsx)("div",{className:i().error,children:null!=g?g:p}),_&&(0,a.jsx)("div",{className:i().success,children:"Account created successfully! Redirecting to login page..."}),(0,a.jsxs)("form",{onSubmit:I,className:i().stepContent,children:[1===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"Basic Information"}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"text",value:u.displayName,onChange:e=>y("displayName",e.target.value),className:i().input,placeholder:"Full Name",required:!0,disabled:b})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"email",value:u.email,onChange:e=>y("email",e.target.value),className:i().input,placeholder:"Email Address",required:!0,disabled:b})}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Account Type"}),(0,a.jsxs)("div",{className:i().userTypeOptions,children:[(0,a.jsxs)("label",{className:"".concat(i().userTypeOption," ").concat("student"===u.userType?i().selected:""),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"student",checked:"student"===u.userType,onChange:e=>v(e.target.value),disabled:b,className:i().userTypeRadio}),(0,a.jsxs)("div",{className:i().userTypeContent,children:[(0,a.jsx)("h4",{children:"Student"}),(0,a.jsx)("p",{children:"I need help with my studies"})]})]}),(0,a.jsxs)("label",{className:"".concat(i().userTypeOption," ").concat("tutor"===u.userType?i().selected:""),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"tutor",checked:"tutor"===u.userType,onChange:e=>v(e.target.value),disabled:b,className:i().userTypeRadio}),(0,a.jsxs)("div",{className:i().userTypeContent,children:[(0,a.jsx)("h4",{children:"Tutor"}),(0,a.jsx)("p",{children:"I want to teach students"}),"tutor"===u.userType&&(0,a.jsx)("span",{style:{fontSize:"0.75rem",color:"var(--color-success)",fontWeight:"bold"},children:"✓ Access verified"})]})]})]})]}),(0,a.jsx)("div",{className:i().buttonGroup,children:(0,a.jsx)("button",{type:"button",onClick:w,disabled:b,className:"".concat(i().button," ").concat(i().buttonPrimary),children:"Next"})}),s&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,a.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",maxWidth:"400px",width:"90%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,a.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem",fontWeight:"bold"},children:"Tutor Access Required"}),(0,a.jsx)("p",{style:{marginBottom:"1rem",color:"#666"},children:"Please enter the tutor access code to register as a tutor."}),(0,a.jsx)("input",{type:"password",value:u.tutorAccessCode,onChange:e=>y("tutorAccessCode",e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),className:i().input,placeholder:"Enter access code",autoFocus:!0,style:{marginBottom:"0.5rem",width:"100%"}}),l&&(0,a.jsx)("div",{style:{color:"#dc2626",fontSize:"0.875rem",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fee2e2",borderRadius:"4px"},children:l}),(0,a.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,a.jsx)("button",{type:"button",onClick:()=>{c(!1),o(null),y("tutorAccessCode",""),y("userType","")},className:"".concat(i().button," ").concat(i().buttonSecondary),style:{marginRight:"0.5rem"},children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:S,className:"".concat(i().button," ").concat(i().buttonPrimary),children:"Verify"})]})]})})]}),2===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"Security"}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("input",{type:"password",value:u.password,onChange:e=>y("password",e.target.value),className:i().input,placeholder:"Password",required:!0,disabled:b}),u.password&&(0,a.jsxs)("div",{className:i().passwordStrength,children:[(0,a.jsx)("div",{className:i().strengthBar,children:(0,a.jsx)("div",{className:"".concat(i().strengthFill," ").concat(i()["strength".concat(k.charAt(0).toUpperCase()+k.slice(1))])})}),(0,a.jsxs)("p",{className:i().strengthText,children:["Password strength: ",k]})]})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"password",value:u.confirmPassword,onChange:e=>y("confirmPassword",e.target.value),className:i().input,placeholder:"Confirm Password",required:!0,disabled:b})}),(0,a.jsxs)("div",{className:i().buttonGroup,children:[(0,a.jsx)("button",{type:"button",onClick:P,disabled:b,className:"".concat(i().button," ").concat(i().buttonSecondary),children:"Previous"}),(0,a.jsx)("button",{type:"button",onClick:w,disabled:b,className:"".concat(i().button," ").concat(i().buttonPrimary),children:"Next"})]})]}),3===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:i().stepTitle,children:"tutor"===u.userType?"Teaching Profile":"Student Profile"}),"tutor"===u.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subjects you can teach:"}),(0,a.jsx)("div",{className:i().subjectsGrid,children:N.map(e=>(0,a.jsxs)("label",{className:"".concat(i().subjectOption," ").concat(u.tutorSubjects.includes(e)?i().selected:""),children:[(0,a.jsx)("input",{type:"checkbox",checked:u.tutorSubjects.includes(e),onChange:()=>f(e),disabled:b,className:i().subjectCheckbox}),(0,a.jsx)("span",{className:i().subjectLabel,children:e})]},e))})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("textarea",{value:u.bio,onChange:e=>y("bio",e.target.value),className:"".concat(i().input," ").concat(i().textarea),placeholder:"Tell students about yourself...",rows:3,disabled:b})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"tel",value:u.contactNumber,onChange:e=>y("contactNumber",e.target.value),className:i().input,placeholder:"Contact Number",disabled:b})}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Hourly Rate (R)"}),(0,a.jsx)("input",{type:"number",value:u.hourlyRate||"",onChange:e=>y("hourlyRate",Number(e.target.value)),className:i().input,placeholder:"0",min:"0",disabled:b})]})]}),"student"===u.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Grade Level"}),(0,a.jsx)("select",{value:u.grade,onChange:e=>y("grade",Number(e.target.value)),className:i().input,disabled:b,children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,a.jsxs)("option",{value:e,children:["Grade ",e]},e))})]}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subjects you need help with:"}),(0,a.jsx)("div",{className:i().subjectsGrid,children:N.map(e=>(0,a.jsxs)("label",{className:"".concat(i().subjectOption," ").concat(u.studentSubjects.some(t=>t.subjectName===e)?i().selected:""),children:[(0,a.jsx)("input",{type:"checkbox",checked:u.studentSubjects.some(t=>t.subjectName===e),onChange:()=>R(e),disabled:b,className:i().subjectCheckbox}),(0,a.jsx)("span",{className:i().subjectLabel,children:e})]},e))})]}),u.studentSubjects.length>0&&(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Subject Details (Optional)"}),(0,a.jsx)("div",{className:i().subjectMarks,children:u.studentSubjects.map(e=>(0,a.jsxs)("div",{className:i().subjectMarkRow,children:[(0,a.jsx)("span",{className:i().subjectMarkName,children:e.subjectName}),(0,a.jsxs)("div",{className:i().markInputs,children:[(0,a.jsx)("input",{type:"number",value:e.currentMark,onChange:t=>C(e.subjectName,"currentMark",Number(t.target.value)),className:i().markInput,placeholder:"Current %",min:"0",max:"100",disabled:b}),(0,a.jsx)("input",{type:"number",value:e.targetMark,onChange:t=>C(e.subjectName,"targetMark",Number(t.target.value)),className:i().markInput,placeholder:"Target %",min:"0",max:"100",disabled:b})]})]},e.subjectName))})]}),(0,a.jsxs)("div",{className:i().formSection,children:[(0,a.jsx)("label",{className:i().sectionLabel,children:"Parent/Guardian Information"}),(0,a.jsx)("input",{type:"text",value:u.parentName,onChange:e=>y("parentName",e.target.value),className:i().input,placeholder:"Parent/Guardian Name",required:!0,disabled:b})]}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"email",value:u.parentEmail,onChange:e=>y("parentEmail",e.target.value),className:i().input,placeholder:"Parent/Guardian Email",required:!0,disabled:b})}),(0,a.jsx)("div",{className:i().formSection,children:(0,a.jsx)("input",{type:"tel",value:u.parentContactNumber,onChange:e=>y("parentContactNumber",e.target.value),className:i().input,placeholder:"Parent/Guardian Contact Number",disabled:b})})]}),(0,a.jsxs)("div",{className:i().buttonGroup,children:[(0,a.jsx)("button",{type:"button",onClick:P,disabled:b,className:"".concat(i().button," ").concat(i().buttonSecondary),children:"Previous"}),(0,a.jsx)("button",{type:"submit",disabled:b||"tutor"===u.userType&&0===u.tutorSubjects.length||"student"===u.userType&&0===u.studentSubjects.length,className:"".concat(i().button," ").concat(i().buttonPrimary),children:b?"Creating Account...":"Create Account"})]})]})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign in here"})]})})]})})}},9789:e=>{e.exports={register:"Register_register__mZhnY",heading:"Register_heading__g3tJL",subheading:"Register_subheading__2IfGO",progressBar:"Register_progressBar__4y6a0",progressStep:"Register_progressStep__vU1wR",active:"Register_active__onc5D",completed:"Register_completed__ski4k",stepContent:"Register_stepContent__X6aK5",stepTitle:"Register_stepTitle__jKIcc",userTypeOption:"Register_userTypeOption__urYzl",selected:"Register_selected__sXBN_",userTypeRadio:"Register_userTypeRadio__UX2iq",userTypeContent:"Register_userTypeContent__HNCUO",input:"Register_input__F4e_w",textarea:"Register_textarea__6fZOQ",subjectsGrid:"Register_subjectsGrid__FPbQr",subjectOption:"Register_subjectOption__T9eR5",subjectCheckbox:"Register_subjectCheckbox__KkuGH",subjectLabel:"Register_subjectLabel__k1T_I",button:"Register_button__i9dK0",buttonPrimary:"Register_buttonPrimary__93Ruk",buttonSecondary:"Register_buttonSecondary__pIleL",buttonGroup:"Register_buttonGroup__j4DPv",error:"Register_error___yJZN",validationError:"Register_validationError__JVJJg",success:"Register_success__LZSp2",loading:"Register_loading__w75VD",spinner:"Register_spinner__NobDz",spin:"Register_spin__E3tZB",formSection:"Register_formSection___O0iS",sectionLabel:"Register_sectionLabel__NCZj_",sectionDescription:"Register_sectionDescription__xlUah",required:"Register_required__N35w3",passwordStrength:"Register_passwordStrength__jS_Rt",strengthBar:"Register_strengthBar__PQZkl",strengthFill:"Register_strengthFill__RYsTC",strengthWeak:"Register_strengthWeak__r4qLy",strengthMedium:"Register_strengthMedium__u4j8K",strengthStrong:"Register_strengthStrong__fErYN",userTypeOptions:"Register_userTypeOptions__8zN86",subjectMarks:"Register_subjectMarks__7Lgu6",subjectMarkRow:"Register_subjectMarkRow__vqeCP",subjectMarkName:"Register_subjectMarkName__n8t1w",markInputs:"Register_markInputs__2cBEb",markInput:"Register_markInput__8nqye",strengthText:"Register_strengthText__Gyg3o"}}}]);